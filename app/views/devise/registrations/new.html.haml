-#
-#
-# == License:
-# Fairnopoly - Fairnopoly is an open-source online marketplace.
-# Copyright (C) 2013 Fairnopoly eG
-#
-# This file is part of Fairnopoly.
-#
-# Fairnopoly is free software: you can redistribute it and/or modify
-# it under the terms of the GNU Affero General Public License as
-# published by the Free Software Foundation, either version 3 of the
-# License, or (at your option) any later version.
-#
-# Fairnopoly is distributed in the hope that it will be useful,
-# but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-# GNU Affero General Public License for more details.
-#
-# You should have received a copy of the GNU Affero General Public License
-# along with Fairnopoly.  If not, see <http://www.gnu.org/licenses/>.
-#

-# Default values - move to controller later
- resource.type = "PrivateUser"

%h1= t('common.actions.sign_up')
= semantic_form_for(resource, as: resource_name, url: registration_path(resource_name), builder: ::Fairtastic::FormBuilder,
                    html: { id: 'registration_form' }) do |f|
  = f.semantic_errors

  = f.inputs do
    = f.input :nickname, label: 'Dein Nutzername', tooltip: false, required: true
    = f.input :type, label: false, as: :boolean, required: true, tooltip: true, collection: [[t('users.legal_status.new.private_user'),"PrivateUser"], [t('users.legal_status.new.legal_entity'),"LegalEntity"]]
    = f.input :email, label: 'Deine E-Mail-Adresse', tooltip: false, required: true
    = f.input :password, label: 'Dein Passwort (mind. 6 Zeichen)', tooltip: true
    -# render partial: "/devise/registrations/password_complexity"
    -# onclick javascript because icheck causes click on link to fail
    - legal_link = link_to t('users.legal'), "/agb", target: "_blank", onclick: on_click_open_link_in_label('/agb')
    - privacy_link = link_to t('users.privacy'), "/privacy", target: "_blank", onclick: on_click_open_link_in_label('/privacy')
    -# f.input :agecheck, as: :boolean, required: true
    = f.input :legal, as: :boolean, required: true, label: t("users.i_accept_both", legal: legal_link, privacy: privacy_link).html_safe
    = f.input :newsletter, as: :boolean, tooltip: false

  = f.actions do
    = f.action :submit, button_html: {class: "Button", id: "sign_up"}, label: :sign_up
