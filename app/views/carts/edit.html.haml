.Content
  = semantic_form_for @cart_checkout_form, as: :cart_checkout_form,  url: cart_path(@cart), method: :put do |f|
    = f.semantic_fields_for :line_item_groups do |fields_for_groups|
      - @cart.line_item_groups.each do |group|
        = fields_for_groups.semantic_fields_for group.id.to_s.to_sym , group do |fields_for_group|
          Angeboten von #{link_to group.seller.nickname, user_path(group.seller)}
          .Listview
            - group.line_items.each do |line_item|
              - article = line_item.business_transaction.article
              .Listview-item
                .Listview-image
                  = link_to image_tag(article.title_image_url(:thumb)), article_path(article)
                = render "shared/listview/listview_detail", article: article
                .Listview-quantity
                  Anzahl: line_item.quantity
              - unless group.transport_can_be_unified?
                = f.semantic_fields_for line_item.transaction do |t|
                  = t.input :selected_transport, include_blank: false, collection: line_item.transaction.selected_transports
              - unless group.payment_can_be_unified?
                = f.semantic_fields_for line_item.transaction do |t|
                  = t.input :selected_payments, include_blank: false, collection: line_item.transaction.selected_payments
            = fields_for_group.input :selected_unified_transport, include_blank: false, collection: group.unified_transports_selectable if group.transport_can_be_unified?
            = fields_for_group.input :selected_unified_payment, include_blank: false, collection: group.unified_payments_selectable if group.payment_can_be_unified?
    = f.actions do
      = f.submit

